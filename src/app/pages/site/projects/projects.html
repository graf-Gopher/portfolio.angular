<app-site-header></app-site-header>

<section class="projects-title-section">
    <div class="padding-block">
        <div class="sub-title">{{ page.ts.subtitle | datalang }}</div>
        <h1 class="title">{{ page.ts.title | datalang }}</h1>
        <p class="text">{{ page.ts.text | datalang }}</p>
    </div>
</section>

<section class="projects-main-section">
    <div class="padding-block">
        <div class="project">
            <a routerLink="{{mainProject.code}}" title="{{mainProject.title}}">
                <img class="image" loading="lazy" alt="" src="/assets/images/projects/{{mainProject.code}}/{{mainProject.image}}" />
            </a>
            <div class="content-block">
                <div class="tags">
                    @for(tag of mainProject.tags | slice:0:2; track tag){
                    <a class="category" routerLink="/projects" [queryParams]="{tag:tag.code}">{{tag.name | datalang}}</a>
                    }
                    <div class="time">{{mainProject.date}}</div>
                </div>
                <h2 class="title">{{mainProject.title | datalang}}</h2>
                <p class="text">{{mainProject.text | datalang}}</p>
                <a routerLink="{{mainProject.code}}" class="button solo">{{'read_more' | lang}}<mat-icon>chevron_right</mat-icon></a>
            </div>
        </div>
    </div>
</section>

<section class="projects-tag-section">
    <div class="padding-block">
        <div class="tags-list">
            <a routerLink="/projects" class="tag" [ngClass]="{active: !activeTag}">{{'view_all'|lang}}</a>
            @for(tag of tags; track tag){
            <a routerLink="/projects" [queryParams]="{tag:tag.code}" class="tag" [ngClass]="{active: activeTag === tag.code}">{{tag.name | datalang}}</a>
            }
        </div>
    </div>
</section>

<section class="projects-list-section">
    <div class="padding-block">
        <div class="project-list">
            @for(project of listProjects; track project){
            <div class="project">
                <a routerLink="{{project.code}}" title="{{project.title}}">
                    <img class="image" loading="lazy" alt="" src="/assets/images/projects/{{project.code}}/{{project.image}}" />
                </a>
                <div class="content-block">
                    <div class="tags">
                        @for(tag of project.tags | slice:0:2; track tag){
                        <a class="category" routerLink="/projects" [queryParams]="{tag:tag.code}">{{tag.name | datalang}}</a>
                        }
                        <div class="time">{{project.date}}</div>
                    </div>
                    <h3 class="title">{{(project.title | datalang).length > 45 ? ((project.title | datalang) | slice:0:45) + '...' : (project.title | datalang)}}</h3>
                    <p class="text">{{(project.text | datalang).length > 120 ? ((project.text | datalang) | slice:0:120) + '...' : (project.text | datalang)}}</p>
                    <a routerLink="{{project.code}}" class="button solo">{{'read_more' | lang}}<mat-icon>chevron_right</mat-icon></a>
                </div>
            </div>

            }
        </div>
    </div>
</section>

<app-site-footer></app-site-footer>
